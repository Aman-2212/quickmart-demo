<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Your Cart</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body class="p-4">
<h1>Your Cart</h1>

<p th:if="${#lists.isEmpty(cartItems)}">
    Your cart is empty. <a href="/products">Go shopping</a>
</p>

<ul th:if="${!#lists.isEmpty(cartItems)}" class="list-group">
    <li th:each="item : ${cartItems}" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <span th:text="${item.product.name}">Name</span>
            <div>Qty: <span th:text="${item.qty}">1</span></div>
            <div>Price each: Rs.<span th:text="${item.product.price}">0</span></div>
        </div>
        <div>
            <a th:href="@{/cart/add/{id}(id=${item.product.id})}" class="btn btn-sm btn-success mb-1">+</a>
            <a th:href="@{/cart/decrease/{id}(id=${item.product.id})}" class="btn btn-sm btn-warning mb-1">-</a>
            <a th:href="@{/cart/remove/{id}(id=${item.product.id})}" class="btn btn-sm btn-danger mb-1">Remove</a>
        </div>
    </li>
</ul>

<br/>
<a href="/products" class="btn btn-link">Back to Products</a>
<a href="/checkout" th:if="${!#lists.isEmpty(cartItems)}" class="btn btn-primary">Checkout</a>
<a href="/cart/clear" class="btn btn-outline-secondary">Clear Cart</a>
</body>
</html>
